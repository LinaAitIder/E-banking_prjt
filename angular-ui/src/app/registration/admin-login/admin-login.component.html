<app-navbar></app-navbar>
<div class="page">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="admin-login">
        <h2>Admin Login</h2>

        <div class="form-group">
            <input formControlName="email" placeholder="Email" type="email" />
            <div *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" class="error-message">
                Valid email is required
            </div>
        </div>

        <div class="form-group">
            <input formControlName="password" placeholder="Password" type="password" />
            <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" class="error-message">
                Password is required
            </div>
        </div>

        <button type="submit" [disabled]="loginForm.invalid">Login</button>
    </form>
</div>

<div *ngIf="showPasswordChange" class="password-change-modal">
    <div class="modal-content">
        <h3>Change Your Password</h3>
        <form [formGroup]="passwordChangeForm" (ngSubmit)="changePassword()">
            <div class="form-group">
                <input formControlName="newPassword" placeholder="New Password" type="password" />
                <div *ngIf="passwordChangeForm.get('newPassword')?.invalid && passwordChangeForm.get('newPassword')?.touched"
                     class="error-message">
                    Password must be at least 8 characters
                </div>
            </div>
            <button type="submit" [disabled]="passwordChangeForm.invalid">Change Password</button>
        </form>
    </div>
</div>

<router-outlet></router-outlet>
